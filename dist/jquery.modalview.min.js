/*! jQuery Modalview - v0.1.0 - 2012-06-11
* https://github.com/bleech/jquery.modalview
* Copyright (c) 2012 bleech; Licensed MIT, GPL */
(function(a,b,c,d){a.fn.modalview=function(b){return b=a.extend({},a.fn.modalview.options,b),this.filter("a").each(function(){var c=a(this);c.data("modalview",new e(c,b))})},a.modalview=function(b,c){return c=a.extend({},a.fn.modalview.options,c),new e(b,c)},a.fn.modalview.options={selector:"#main",closeText:"close",padding:10,width:580,onInit:function(){},onOpen:function(){},onClose:function(){}};var e=function(b,c){var d=this,e;this.options=c,this.content="",e='<div class="modalview">',e+='<div class="close">'+this.options.closeText+"</div>",e+='<div class="container"></div>',e+="</div>",this.modalview=a(".modalview").length>0?a(".modalview"):a(e).appendTo("body").hide(),this.container=this.modalview.find(".container"),this.container.css({padding:parseInt(this.options.padding,10)+"px",width:parseInt(this.options.width,10)+"px"}),this.container.css("marginLeft",-1*(this.container.outerWidth()/2)+"px"),typeof b=="string"?(this.content=b,this.open()):(a.get(b.attr("href"),function(b){d.content=a(b).find(d.options.selector).html()}),b.on("click",function(a){a.preventDefault(),d.open()})),this.modalview.on("click",".close",a.proxy(this.close,this)),this.options.onInit.call(this)};e.prototype.open=function(){this.container.html(this.content),this.modalview.show(),this.options.onOpen.call(this)},e.prototype.close=function(){this.modalview.hide(),this.container.find("*").off(),this.container.html(""),this.options.onClose.call(this)}})(jQuery,window,document);